const niftyMonthly="https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=nifty&expiryDate=2024-09-26",bankMonthly="https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=banknifty&expiryDate=2024-09-25",finMonthly="https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=finnifty&expiryDate=2024-09-24",niftyAPI="https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=nifty&expiryDate=",finAPI="https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=finnifty&expiryDate=",bankAPI="https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=banknifty&expiryDate=",indexAPI="https://webapi.niftytrader.in/webapi/symbol/stock-index-data";var counterN=0,counterB=0,counterF=0,counterI=0;const intervalTime=15e3;async function getIndexData(){var t;try{let a=await fetch("https://webapi.niftytrader.in/webapi/symbol/stock-index-data");if(!a.ok)throw Error(`Response status: ${a.status}`);return t=await a.json()}catch(n){console.error(n.message)}}async function getNiftyData(){var t;try{let a=await fetch("https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=nifty&expiryDate=");if(!a.ok)throw Error(`Response status: ${a.status}`);return t=await a.json()}catch(n){console.error(n.message)}}async function getNiftyMonthlyData(){var t;try{let a=await fetch("https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=nifty&expiryDate=2024-09-26");if(!a.ok)throw Error(`Response status: ${a.status}`);return t=await a.json()}catch(n){console.error(n.message)}}async function getBankData(){var t;try{let a=await fetch("https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=banknifty&expiryDate=");if(!a.ok)throw Error(`Response status: ${a.status}`);return t=await a.json()}catch(n){console.error(n.message)}}async function getBankMonthlyData(){var t;try{let a=await fetch("https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=banknifty&expiryDate=2024-09-25");if(!a.ok)throw Error(`Response status: ${a.status}`);return t=await a.json()}catch(n){console.error(n.message)}}async function getFinData(){var t;try{let a=await fetch("https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=finnifty&expiryDate=");if(!a.ok)throw Error(`Response status: ${a.status}`);return t=await a.json()}catch(n){console.error(n.message)}}async function getFinMonthlyData(){var t;try{let a=await fetch("https://webapi.niftytrader.in/webapi/option/fatch-option-chain?symbol=finnifty&expiryDate=2024-09-24");if(!a.ok)throw Error(`Response status: ${a.status}`);return t=await a.json()}catch(n){console.error(n.message)}}function download(t,a){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function triggerDataFetchNifty(){let t="nifty"+counterN+".txt",a="niftyM"+counterN+".txt",n=getNiftyData(),i=getNiftyMonthlyData();n.then(a=>{download(t,JSON.stringify(a.resultData.opDatas))}),i.then(t=>{download(a,JSON.stringify(t.resultData.opDatas))}),counterN++}function triggerDataFetchBank(){let t="bank"+counterB+".txt",a="bankM"+counterB+".txt",n=getBankData(),i=getBankMonthlyData();n.then(a=>{download(t,JSON.stringify(a.resultData.opDatas))}),i.then(t=>{download(a,JSON.stringify(t.resultData.opDatas))}),counterB++}function triggerDataFetchFin(){let t="fin"+counterF+".txt",a="finM"+counterF+".txt",n=getFinData(),i=getFinMonthlyData();n.then(a=>{download(t,JSON.stringify(a.resultData.opDatas))}),i.then(t=>{download(a,JSON.stringify(t.resultData.opDatas))}),counterF++}function triggerDataFetchIndex(){let t="index"+counterI+".txt",a=getIndexData();a.then(a=>{console.log("setTimeout stringData => ",a.resultData),download(t,JSON.stringify(a.resultData))}),counterI++}setInterval(triggerDataFetchNifty,15e3),setInterval(triggerDataFetchFin,15e3),setInterval(triggerDataFetchBank,15e3),setInterval(triggerDataFetchIndex,15e3);